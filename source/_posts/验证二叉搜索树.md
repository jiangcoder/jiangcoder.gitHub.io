title: 验证二叉搜索树
toc: true
categories: 算法
tags:
  - java
thumbnail: /logo/suanfa.jpg
---
## 最小栈
```java
class Solution {
    public boolean isValidBST(TreeNode node) {
        return valid(node, Long.MIN_VALUE, Long.MAX_VALUE);
    }

    public boolean valid(TreeNode node, long min, long max) {
        if (node == null)
            return true;
        if (node.val <= min || node.val >= max)
            return false;
        return valid(node.left, min, node.val) && valid(node.right,  node.val, max);
    }
}

Long preValue = Long.MIN_VALUE;
public boolean isValidBST(TreeNode node) {
    if (node != null) {
        if (!isValidBST(node.left))
            return false;
        if (node.val <= preValue)
            return false;
        preValue = Long.parseLong(node.val + "");
        if (!isValidBST(node.right))
            return false;
    }
    return true;
}
public boolean isValidBST(TreeNode node) {
    if (node == null)
        return true;
    Stack<TreeNode> stack = new Stack<>();
    TreeNode temp = node;
    TreeNode pre = null;
    while (temp != null || !stack.isEmpty()) {
        while (temp != null) {
            stack.push(temp);
            temp = temp.left;
        }
        TreeNode t = stack.pop();
        if (pre != null && t.val <= pre.val)
            return false;
        pre = t;
        temp = t.right;
    }
    return true;
}
```