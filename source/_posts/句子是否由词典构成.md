title: 句子是否由词典构成
toc: true
categories: 算法
tags:
  - java
thumbnail: /logo/suanfa.jpg
---
## 句子是否由词典构成
算法题：给一个词典和一个句子，判断是否句子是否可以通过词典构成
之前的方法是依次判断完l,le,lee,leet再依次判断c,co,cod,code
这样每次一个字母判断；现在依次判断字典里的单词：
首先，判断字典里面的第一个单词“leet",len("leet")=4, 由于i=4>=len, 且dp[i-len]=dp[0]=true, 
且单词“leet”与字符串[i-len,i]的子字符串相等，即"leet".equals(s.substring(0,4))==true。 
因此dp[4]=true; 接下来依次判断i=5,6,7; 由于单词里的字典无法匹配剩余子字符串, 
即word.equals(s.substring(i-len,i))==false; 当i=6时，由于dp[4]==true,
且对于字典里的单词“code",len(code)==4,且"code".equals(s.substring(4,6)==true，
因此，dp[6]==true; i==s.length(),循环结束。
```java
class Solution {
    public boolean wordBreak(String s, List<String> wordDict) {
        Set<String> wordDictSet = new HashSet(wordDict); 
        //使用HashSet查找时间复杂度为O(1) ArrayList查找时间复杂度为O(n)

        boolean[] dp = new boolean[s.length()+1]; 
        //dp[i]表示字符串s的前i个字符组成的字符串s[0,i-1]是否能被空格拆分成一个或多个在字典中出现的单词

        dp[0] = true;
        for(int i=1; i<=s.length();i++){ //依次判断dp[i] 从1～s.length()-1
            for(String word:wordDictSet){ 
                int len = word.length();
                if(i>=len && dp[i-len]==true && word.equals(s.substring(i-len,i))){
                    dp[i] = true;
                    break;
                }
            }
        }
        return dp[s.length()];
    }
}
```